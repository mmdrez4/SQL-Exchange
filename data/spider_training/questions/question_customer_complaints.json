[
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "How many customers are there?",
        "query": "SELECT count(*) FROM customers"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Count the number of customers.",
        "query": "SELECT count(*) FROM customers"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the emails and phone numbers of all the customers, ordered by email address and phone number.",
        "query": "SELECT email_address ,  phone_number FROM customers ORDER BY email_address ,  phone_number"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are the emails and phone numbers of all customers, sorted by email address and phone number?",
        "query": "SELECT email_address ,  phone_number FROM customers ORDER BY email_address ,  phone_number"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Which city has the least number of customers whose type code is \"Good Credit Rating\"?",
        "query": "SELECT town_city FROM customers WHERE customer_type_code  =  \"Good Credit Rating\" GROUP BY town_city ORDER BY count(*) LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return the city with the customer type code \"Good Credit Rating\" that had the fewest customers.",
        "query": "SELECT town_city FROM customers WHERE customer_type_code  =  \"Good Credit Rating\" GROUP BY town_city ORDER BY count(*) LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "List the name of all products along with the number of complaints that they have received.",
        "query": "SELECT t1.product_name ,  count(*) FROM products AS t1 JOIN complaints AS t2 ON t1.product_id  =  t2.product_id GROUP BY t1.product_name"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are all the different product names, and how many complains has each received?",
        "query": "SELECT t1.product_name ,  count(*) FROM products AS t1 JOIN complaints AS t2 ON t1.product_id  =  t2.product_id GROUP BY t1.product_name"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the emails of customers who has filed a complaints of the product with the most complaints.",
        "query": "SELECT t1.email_address FROM customers AS t1 JOIN complaints AS t2 ON t1.customer_id  =  t2.customer_id GROUP BY t1.customer_id ORDER BY count(*) LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are the emails of customers who have filed complaints on the product which has had the greatest number of complaints?",
        "query": "SELECT t1.email_address FROM customers AS t1 JOIN complaints AS t2 ON t1.customer_id  =  t2.customer_id GROUP BY t1.customer_id ORDER BY count(*) LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Which products has been complained by the customer who has filed least amount of complaints?",
        "query": "SELECT DISTINCT t1.product_name FROM products AS t1 JOIN complaints AS t2 ON t1.product_id  =  t2.product_id JOIN customers AS t3 GROUP BY t3.customer_id ORDER BY count(*) LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return the names of products that have had complaints filed by the customer who has filed the fewest complaints.",
        "query": "SELECT DISTINCT t1.product_name FROM products AS t1 JOIN complaints AS t2 ON t1.product_id  =  t2.product_id JOIN customers AS t3 GROUP BY t3.customer_id ORDER BY count(*) LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What is the phone number of the customer who has filed the most recent complaint?",
        "query": "SELECT t1.phone_number FROM customers AS t1 JOIN complaints AS t2 ON t1.customer_id  =  t2.customer_id ORDER BY t2.date_complaint_raised DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return the phone number of the customer who filed the complaint that was raised most recently.",
        "query": "SELECT t1.phone_number FROM customers AS t1 JOIN complaints AS t2 ON t1.customer_id  =  t2.customer_id ORDER BY t2.date_complaint_raised DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the email and phone number of the customers who have never filed a complaint before.",
        "query": "SELECT email_address ,  phone_number FROM customers WHERE customer_id NOT IN (SELECT customer_id FROM complaints)"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are the emails and phone numbers of custoemrs who have never filed a complaint?",
        "query": "SELECT email_address ,  phone_number FROM customers WHERE customer_id NOT IN (SELECT customer_id FROM complaints)"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the phone number of all the customers and staff.",
        "query": "SELECT phone_number FROM customers UNION SELECT phone_number FROM staff"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are the phone numbers of all customers and all staff members?",
        "query": "SELECT phone_number FROM customers UNION SELECT phone_number FROM staff"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What is the description of the product named \"Chocolate\"?",
        "query": "SELECT product_description FROM products WHERE product_name  =  \"Chocolate\""
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return the description of the product called \"Chocolate\".",
        "query": "SELECT product_description FROM products WHERE product_name  =  \"Chocolate\""
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the name and category of the most expensive product.",
        "query": "SELECT product_name ,  product_category_code FROM products ORDER BY product_price DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What is the name and category code of the product with the highest price?",
        "query": "SELECT product_name ,  product_category_code FROM products ORDER BY product_price DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the prices of products which has never received a single complaint.",
        "query": "SELECT product_price FROM products WHERE product_id NOT IN (SELECT product_id FROM complaints)"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are the prices of products that have never gotten a complaint?",
        "query": "SELECT product_price FROM products WHERE product_id NOT IN (SELECT product_id FROM complaints)"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What is the average price of the products for each category?",
        "query": "SELECT avg(product_price) ,  product_category_code FROM products GROUP BY product_category_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return the average price of products that have each category code.",
        "query": "SELECT avg(product_price) ,  product_category_code FROM products GROUP BY product_category_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the last name of the staff member who processed the complaint of the cheapest product.",
        "query": "SELECT t1.last_name FROM staff AS t1 JOIN complaints AS t2 ON t1.staff_id  =  t2.staff_id JOIN products AS t3 ON t2.product_id  =  t3.product_id ORDER BY t3.product_price LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What is the last name of the staff member in charge of the complaint on the product with the lowest price?",
        "query": "SELECT t1.last_name FROM staff AS t1 JOIN complaints AS t2 ON t1.staff_id  =  t2.staff_id JOIN products AS t3 ON t2.product_id  =  t3.product_id ORDER BY t3.product_price LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Which complaint status has more than 3 records on file?",
        "query": "SELECT complaint_status_code FROM complaints GROUP BY complaint_status_code HAVING count(*)  >  3"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return complaint status codes have more than 3 corresponding complaints?",
        "query": "SELECT complaint_status_code FROM complaints GROUP BY complaint_status_code HAVING count(*)  >  3"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the last name of the staff whose email address contains \"wrau\".",
        "query": "SELECT last_name FROM staff WHERE email_address LIKE \"%wrau%\""
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are the last names of staff with email addressed containing the substring \"wrau\"?",
        "query": "SELECT last_name FROM staff WHERE email_address LIKE \"%wrau%\""
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "How many customers are there in the customer type with the most customers?",
        "query": "SELECT count(*) FROM customers GROUP BY customer_type_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Count the number of customers that have the customer type that is most common.",
        "query": "SELECT count(*) FROM customers GROUP BY customer_type_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What is the last name of the staff who has handled the first ever complaint?",
        "query": "SELECT t1.last_name FROM staff AS t1 JOIN complaints AS t2 ON t1.staff_id  =  t2.staff_id ORDER BY t2.date_complaint_raised LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return the last name of the staff member who handled the complaint with the earliest date raised.",
        "query": "SELECT t1.last_name FROM staff AS t1 JOIN complaints AS t2 ON t1.staff_id  =  t2.staff_id ORDER BY t2.date_complaint_raised LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "How many distinct complaint type codes are there in the database?",
        "query": "SELECT count(DISTINCT complaint_type_code) FROM complaints"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Count the number of different complaint type codes.",
        "query": "SELECT count(DISTINCT complaint_type_code) FROM complaints"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the address line 1 and 2 of the customer with email \"vbogisich@example.org\".",
        "query": "SELECT address_line_1 ,  address_line_2 FROM customers WHERE email_address  =  \"vbogisich@example.org\""
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What are lines 1 and 2 of the addressed of the customer with the email \"vbogisich@example.org\"?",
        "query": "SELECT address_line_1 ,  address_line_2 FROM customers WHERE email_address  =  \"vbogisich@example.org\""
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Find the number of complaints with Product Failure type for each complaint status.",
        "query": "SELECT complaint_status_code ,  count(*) FROM complaints WHERE complaint_type_code  =  \"Product Failure\" GROUP BY complaint_status_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Of complaints with the type code \"Product Failure\", how many had each different status code?",
        "query": "SELECT complaint_status_code ,  count(*) FROM complaints WHERE complaint_type_code  =  \"Product Failure\" GROUP BY complaint_status_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "What is first names of the top 5 staff who have handled the greatest number of complaints?",
        "query": "SELECT t1.first_name FROM staff AS t1 JOIN complaints AS t2 ON t1.staff_id  =  t2.staff_id GROUP BY t2.staff_id ORDER BY count(*) LIMIT 5"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Return the first names of the 5 staff members who have handled the most complaints.",
        "query": "SELECT t1.first_name FROM staff AS t1 JOIN complaints AS t2 ON t1.staff_id  =  t2.staff_id GROUP BY t2.staff_id ORDER BY count(*) LIMIT 5"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Which state has the most customers?",
        "query": "SELECT state FROM customers GROUP BY state ORDER BY count(*) LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "customer_complaints",
        "question": "Give the state that has the most customers.",
        "query": "SELECT state FROM customers GROUP BY state ORDER BY count(*) LIMIT 1"
    }
]