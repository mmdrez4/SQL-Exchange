[
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the name and access counts of all documents, in alphabetic order of the document name.",
        "query": "SELECT document_name ,  access_count FROM documents ORDER BY document_name"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the names of all the documents, as well as the access counts of each, ordered alphabetically?",
        "query": "SELECT document_name ,  access_count FROM documents ORDER BY document_name"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the name of the document that has been accessed the greatest number of times, as well as the count of how many times it has been accessed?",
        "query": "SELECT document_name ,  access_count FROM documents ORDER BY access_count DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the name of the document which has been accessed the most times, as well as the number of times it has been accessed?",
        "query": "SELECT document_name ,  access_count FROM documents ORDER BY access_count DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the types of documents with more than 4 documents.",
        "query": "SELECT document_type_code FROM documents GROUP BY document_type_code HAVING count(*)  >  4"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the codes of types of documents of which there are for or more?",
        "query": "SELECT document_type_code FROM documents GROUP BY document_type_code HAVING count(*)  >  4"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the total access count of all documents in the most popular document type.",
        "query": "SELECT sum(access_count) FROM documents GROUP BY document_type_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the total access count of documents that are of the most common document type?",
        "query": "SELECT sum(access_count) FROM documents GROUP BY document_type_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the average access count of documents?",
        "query": "SELECT avg(access_count) FROM documents"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the average access count across all documents?",
        "query": "SELECT avg(access_count) FROM documents"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the structure of the document with the least number of accesses?",
        "query": "SELECT t2.document_structure_description FROM documents AS t1 JOIN document_structures AS t2 ON t1.document_structure_code  =  t2.document_structure_code GROUP BY t1.document_structure_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Return the structure description of the document that has been accessed the fewest number of times.",
        "query": "SELECT t2.document_structure_description FROM documents AS t1 JOIN document_structures AS t2 ON t1.document_structure_code  =  t2.document_structure_code GROUP BY t1.document_structure_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the type of the document named \"David CV\"?",
        "query": "SELECT document_type_code FROM documents WHERE document_name  =  \"David CV\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Return the type code of the document named \"David CV\".",
        "query": "SELECT document_type_code FROM documents WHERE document_name  =  \"David CV\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the list of documents that are both in the most three popular type and have the most three popular structure.",
        "query": "SELECT document_name FROM documents GROUP BY document_type_code ORDER BY count(*) DESC LIMIT 3 INTERSECT SELECT document_name FROM documents GROUP BY document_structure_code ORDER BY count(*) DESC LIMIT 3"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the names of documents that have both one of the three most common types and one of three most common structures?",
        "query": "SELECT document_name FROM documents GROUP BY document_type_code ORDER BY count(*) DESC LIMIT 3 INTERSECT SELECT document_name FROM documents GROUP BY document_structure_code ORDER BY count(*) DESC LIMIT 3"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What document types do have more than 10000 total access number.",
        "query": "SELECT document_type_code FROM documents GROUP BY document_type_code HAVING sum(access_count)  >  10000"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Return the codes of the document types that do not have a total access count of over 10000.",
        "query": "SELECT document_type_code FROM documents GROUP BY document_type_code HAVING sum(access_count)  >  10000"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are all the section titles of the document named \"David CV\"?",
        "query": "SELECT t2.section_title FROM documents AS t1 JOIN document_sections AS t2 ON t1.document_code  =  t2.document_code WHERE t1.document_name  =  \"David CV\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Give the section titles of the document with the name \"David CV\".",
        "query": "SELECT t2.section_title FROM documents AS t1 JOIN document_sections AS t2 ON t1.document_code  =  t2.document_code WHERE t1.document_name  =  \"David CV\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find all the name of documents without any sections.",
        "query": "SELECT document_name FROM documents WHERE document_code NOT IN (SELECT document_code FROM document_sections)"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the names of documents that do not have any sections?",
        "query": "SELECT document_name FROM documents WHERE document_code NOT IN (SELECT document_code FROM document_sections)"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "List all the username and passwords of users with the most popular role.",
        "query": "SELECT user_name ,  password FROM users GROUP BY role_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the usernames and passwords of users that have the most common role?",
        "query": "SELECT user_name ,  password FROM users GROUP BY role_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the average access counts of documents with functional area \"Acknowledgement\".",
        "query": "SELECT avg(t1.access_count) FROM documents AS t1 JOIN document_functional_areas AS t2 ON t1.document_code  =  t2.document_code JOIN functional_areas AS t3 ON t2.functional_area_code  =  t3.functional_area_code WHERE t3.functional_area_description  =  \"Acknowledgement\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the average access counts of documents that have the functional area description \"Acknowledgement\"?",
        "query": "SELECT avg(t1.access_count) FROM documents AS t1 JOIN document_functional_areas AS t2 ON t1.document_code  =  t2.document_code JOIN functional_areas AS t3 ON t2.functional_area_code  =  t3.functional_area_code WHERE t3.functional_area_description  =  \"Acknowledgement\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find names of the document without any images.",
        "query": "SELECT document_name FROM documents EXCEPT SELECT t1.document_name FROM documents AS t1 JOIN document_sections AS t2 ON t1.document_code  =  t2.document_code JOIN document_sections_images AS t3 ON t2.section_id  =  t3.section_id"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the names of documents that do not have any images?",
        "query": "SELECT document_name FROM documents EXCEPT SELECT t1.document_name FROM documents AS t1 JOIN document_sections AS t2 ON t1.document_code  =  t2.document_code JOIN document_sections_images AS t3 ON t2.section_id  =  t3.section_id"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the name of the document with the most number of sections?",
        "query": "SELECT t1.document_name FROM documents AS t1 JOIN document_sections AS t2 ON t1.document_code  =  t2.document_code GROUP BY t1.document_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Return the name of the document that has the most sections.",
        "query": "SELECT t1.document_name FROM documents AS t1 JOIN document_sections AS t2 ON t1.document_code  =  t2.document_code GROUP BY t1.document_code ORDER BY count(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "List all the document names which contains \"CV\".",
        "query": "SELECT document_name FROM documents WHERE document_name LIKE \"%CV%\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the names of documents that contain the substring \"CV\"?",
        "query": "SELECT document_name FROM documents WHERE document_name LIKE \"%CV%\""
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "How many users are logged in?",
        "query": "SELECT count(*) FROM users WHERE user_login  =  1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Count the number of users that are logged in.",
        "query": "SELECT count(*) FROM users WHERE user_login  =  1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the description of the most popular role among the users that have logged in.",
        "query": "SELECT role_description FROM ROLES WHERE role_code  =  (SELECT role_code FROM users WHERE user_login  =  1 GROUP BY role_code ORDER BY count(*) DESC LIMIT 1)"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the description of the most popular role among users that have logged in?",
        "query": "SELECT role_description FROM ROLES WHERE role_code  =  (SELECT role_code FROM users WHERE user_login  =  1 GROUP BY role_code ORDER BY count(*) DESC LIMIT 1)"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the average access count of documents with the least popular structure.",
        "query": "SELECT avg(access_count) FROM documents GROUP BY document_structure_code ORDER BY count(*) ASC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What is the average access count of documents that have the least common structure?",
        "query": "SELECT avg(access_count) FROM documents GROUP BY document_structure_code ORDER BY count(*) ASC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "List all the image name and URLs in the order of their names.",
        "query": "SELECT image_name ,  image_url FROM images ORDER BY image_name"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the names and urls of images, sorted alphabetically?",
        "query": "SELECT image_name ,  image_url FROM images ORDER BY image_name"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Find the number of users in each role.",
        "query": "SELECT count(*) ,  role_code FROM users GROUP BY role_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What are the different role codes for users, and how many users have each?",
        "query": "SELECT count(*) ,  role_code FROM users GROUP BY role_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "What document types have more than 2 corresponding documents?",
        "query": "SELECT document_type_code FROM documents GROUP BY document_type_code HAVING count(*)  >  2"
    },
    {
        "dataset": "spider_training",
        "db_id": "document_management",
        "question": "Give the codes of document types that have more than 2 corresponding documents.",
        "query": "SELECT document_type_code FROM documents GROUP BY document_type_code HAVING count(*)  >  2"
    }
]