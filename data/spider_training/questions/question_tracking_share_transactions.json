[
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Find the number of investors in total.",
        "query": "SELECT count(*) FROM INVESTORS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show all investor details.",
        "query": "SELECT Investor_details FROM INVESTORS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show all distinct lot details.",
        "query": "SELECT DISTINCT lot_details FROM LOTS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the maximum amount of transaction.",
        "query": "SELECT max(amount_of_transaction) FROM TRANSACTIONS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show all date and share count of transactions.",
        "query": "SELECT date_of_transaction ,  share_count FROM TRANSACTIONS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What is the total share of transactions?",
        "query": "SELECT sum(share_count) FROM TRANSACTIONS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show all transaction ids with transaction code 'PUR'.",
        "query": "SELECT transaction_id FROM TRANSACTIONS WHERE transaction_type_code  =  'PUR'"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show all dates of transactions whose type code is \"SALE\".",
        "query": "SELECT date_of_transaction FROM TRANSACTIONS WHERE transaction_type_code  =  \"SALE\""
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the average amount of transactions with type code \"SALE\".",
        "query": "SELECT avg(amount_of_transaction) FROM TRANSACTIONS WHERE transaction_type_code  =  \"SALE\""
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the description of transaction type with code \"PUR\".",
        "query": "SELECT transaction_type_description FROM Ref_Transaction_Types WHERE transaction_type_code\t  =  \"PUR\""
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the minimum amount of transactions whose type code is \"PUR\" and whose share count is bigger than 50.",
        "query": "SELECT min(amount_of_transaction) FROM TRANSACTIONS WHERE transaction_type_code  =  \"PUR\" AND share_count  >  50"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the maximum share count of transactions where the amount is smaller than 10000",
        "query": "SELECT max(share_count) FROM TRANSACTIONS WHERE amount_of_transaction  <  10000"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the dates of transactions if the share count is bigger than 100 or the amount is bigger than 1000.",
        "query": "SELECT date_of_transaction FROM TRANSACTIONS WHERE share_count  >  100 OR amount_of_transaction  >  1000"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the transaction type descriptions and dates if the share count is smaller than 10.",
        "query": "SELECT T1.transaction_type_description ,  T2.date_of_transaction FROM Ref_Transaction_Types AS T1 JOIN TRANSACTIONS AS T2 ON T1.transaction_type_code  =  T2.transaction_type_code WHERE T2.share_count  <  10"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show details of all investors if they make any transaction with share count greater than 100.",
        "query": "SELECT T1.Investor_details FROM  INVESTORS AS T1 JOIN TRANSACTIONS AS T2 ON T1.investor_id  =  T2.investor_id WHERE T2.share_count  >  100"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "How many distinct transaction types are used in the transactions?",
        "query": "SELECT COUNT(DISTINCT transaction_type_code) FROM TRANSACTIONS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Return the lot details and investor ids.",
        "query": "SELECT lot_details ,  investor_id FROM LOTS"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Return the lot details of lots that belong to investors with details \"l\"?",
        "query": "SELECT T2.lot_details FROM INVESTORS AS T1 JOIN LOTS AS T2 ON  T1.investor_id  =  T2.investor_id WHERE T1.Investor_details  =  \"l\""
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What are the purchase details of transactions with amount bigger than 10000?",
        "query": "SELECT T1.purchase_details FROM PURCHASES AS T1 JOIN TRANSACTIONS AS T2 ON T1.purchase_transaction_id  =  T2.transaction_id WHERE T2.amount_of_transaction  >  10000"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What are the sale details and dates of transactions with amount smaller than 3000?",
        "query": "SELECT T1.sales_details ,  T2.date_of_transaction FROM SALES AS T1 JOIN TRANSACTIONS AS T2 ON T1.sales_transaction_id  =  T2.transaction_id WHERE T2.amount_of_transaction  <  3000"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What are the lot details of lots associated with transactions with share count smaller than 50?",
        "query": "SELECT T1.lot_details FROM LOTS AS T1 JOIN TRANSACTIONS_LOTS AS T2 ON T1.lot_id  =  T2.transaction_id JOIN TRANSACTIONS AS T3 ON T2.transaction_id  =  T3.transaction_id WHERE T3.share_count  <  50"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What are the lot details of lots associated with transactions whose share count is bigger than 100 and whose type code is \"PUR\"?",
        "query": "SELECT T1.lot_details FROM LOTS AS T1 JOIN TRANSACTIONS_LOTS AS T2 ON  T1.lot_id  =  T2.transaction_id JOIN TRANSACTIONS AS T3 ON T2.transaction_id  =  T3.transaction_id WHERE T3.share_count  >  100 AND T3.transaction_type_code  =  \"PUR\""
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the average transaction amount for different transaction types.",
        "query": "SELECT transaction_type_code ,  avg(amount_of_transaction) FROM TRANSACTIONS GROUP BY transaction_type_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the maximum and minimum share count of different transaction types.",
        "query": "SELECT transaction_type_code ,  max(share_count) ,  min(share_count) FROM TRANSACTIONS GROUP BY transaction_type_code"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the average share count of transactions for different investors.",
        "query": "SELECT investor_id ,  avg(share_count) FROM TRANSACTIONS GROUP BY investor_id"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the average share count of transactions each each investor, ordered by average share count.",
        "query": "SELECT investor_id ,  avg(share_count) FROM TRANSACTIONS GROUP BY investor_id ORDER BY avg(share_count)"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the average amount of transactions for different investors.",
        "query": "SELECT investor_id ,  avg(amount_of_transaction) FROM TRANSACTIONS GROUP BY investor_id"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the average amount of transactions for different lots.",
        "query": "SELECT T2.lot_id ,  avg(amount_of_transaction) FROM TRANSACTIONS AS T1 JOIN Transactions_Lots AS T2 ON T1.transaction_id  =  T2.transaction_id GROUP BY T2.lot_id"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the average amount of transactions for different lots, ordered by average amount of transactions.",
        "query": "SELECT T2.lot_id ,  avg(amount_of_transaction) FROM TRANSACTIONS AS T1 JOIN Transactions_Lots AS T2 ON T1.transaction_id  =  T2.transaction_id GROUP BY T2.lot_id ORDER BY avg(amount_of_transaction)"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the number of transactions with transaction type code \"SALE\" for different investors if it is larger than 0.",
        "query": "SELECT investor_id ,  COUNT(*) FROM TRANSACTIONS WHERE transaction_type_code  =  \"SALE\" GROUP BY investor_id"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the number of transactions for different investors.",
        "query": "SELECT investor_id ,  COUNT(*) FROM TRANSACTIONS GROUP BY investor_id"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the transaction type code that occurs the fewest times.",
        "query": "SELECT transaction_type_code FROM TRANSACTIONS GROUP BY transaction_type_code ORDER BY COUNT(*) ASC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the transaction type code that occurs the most frequently.",
        "query": "SELECT transaction_type_code FROM TRANSACTIONS GROUP BY transaction_type_code ORDER BY COUNT(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the description of the transaction type that occurs most frequently.",
        "query": "SELECT T1.transaction_type_description FROM Ref_Transaction_Types AS T1 JOIN TRANSACTIONS AS T2 ON T1.transaction_type_code  =  T2.transaction_type_code GROUP BY T1.transaction_type_code ORDER BY COUNT(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the id and details of the investor that has the largest number of transactions.",
        "query": "SELECT T2.investor_id ,  T1.Investor_details FROM INVESTORS AS T1 JOIN TRANSACTIONS AS T2 ON T1.investor_id  =  T2.investor_id GROUP BY T2.investor_id ORDER BY COUNT(*) DESC LIMIT 1"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the id and details for the investors who have the top 3 number of transactions.",
        "query": "SELECT T2.investor_id ,  T1.Investor_details FROM INVESTORS AS T1 JOIN TRANSACTIONS AS T2 ON T1.investor_id  =  T2.investor_id GROUP BY T2.investor_id ORDER BY COUNT(*) DESC LIMIT 3"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the ids of the investors who have at least two transactions.",
        "query": "SELECT T2.investor_id FROM INVESTORS AS T1 JOIN TRANSACTIONS AS T2 ON T1.investor_id  =  T2.investor_id GROUP BY T2.investor_id HAVING COUNT(*)  >=  2"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "Show the ids and details of the investors who have at least two transactions with type code \"SALE\".",
        "query": "SELECT T2.investor_id ,  T1.Investor_details FROM INVESTORS AS T1 JOIN TRANSACTIONS AS T2 ON T1.investor_id  =  T2.investor_id WHERE T2.transaction_type_code  =  \"SALE\" GROUP BY T2.investor_id HAVING COUNT(*)  >=  2"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What are the dates of transactions with at least 100 share count or amount bigger than 100?",
        "query": "SELECT date_of_transaction FROM TRANSACTIONS WHERE share_count  >=  100 OR amount_of_transaction  >=  100"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What are the details of all sales and purchases?",
        "query": "SELECT sales_details FROM sales UNION SELECT purchase_details FROM purchases"
    },
    {
        "dataset": "spider_training",
        "db_id": "tracking_share_transactions",
        "question": "What are the details of the lots which are not used in any transactions?",
        "query": "SELECT lot_details FROM Lots EXCEPT SELECT T1.lot_details FROM Lots AS T1 JOIN transactions_lots AS T2 ON T1.lot_id  =  T2.lot_id"
    }
]